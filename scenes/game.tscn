[gd_scene load_steps=8 format=3 uid="uid://d4c4afhm45bt7"]

[ext_resource type="PackedScene" uid="uid://c6jjii2lvabbq" path="res://scenes/wall.tscn" id="1_yqjtg"]
[ext_resource type="PackedScene" uid="uid://dirlb3yrhfe4u" path="res://scenes/player.tscn" id="2_lnu2h"]
[ext_resource type="PackedScene" uid="uid://d1vhnaaecncii" path="res://scenes/lava.tscn" id="3_lnu2h"]
[ext_resource type="PackedScene" uid="uid://diokxch5r8he5" path="res://scenes/background.tscn" id="4_lbhrr"]

[sub_resource type="Shader" id="Shader_lbhrr"]
code = "shader_type canvas_item;

uniform float alpha = 1;
uniform float inner_radius = 0;
uniform float outer_radius = 1;

void fragment() {
	float x = abs(UV.r-.5)*2.0;
	float y = abs(UV.g-.5)*2.0;
	float q = 1.0-(1.0-sqrt(x*x+y*y)/outer_radius)/(1.0-inner_radius);
	COLOR = vec4(0, 0, 0, q*alpha);
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_iywne"]
shader = SubResource("Shader_lbhrr")
shader_parameter/alpha = 0.9
shader_parameter/inner_radius = 0.6
shader_parameter/outer_radius = 1.75

[sub_resource type="Environment" id="Environment_lbhrr"]
background_mode = 3
glow_enabled = true
glow_normalized = true
glow_intensity = 8.0
glow_strength = 0.2
glow_bloom = 1.0
glow_blend_mode = 0

[node name="Game" type="Node2D"]

[node name="Wall" parent="." instance=ExtResource("1_yqjtg")]
modulate = Color(0.24696237, 0.10324407, 0.07109224, 1)
position = Vector2(0, 320)
scale = Vector2(50, 4.96)

[node name="Player" parent="." instance=ExtResource("2_lnu2h")]

[node name="Lava" parent="." instance=ExtResource("3_lnu2h")]
position = Vector2(0, 340)
scale = Vector2(169.71738, 3.670055)

[node name="Camera2D" type="Camera2D" parent="."]

[node name="ColorRect" type="ColorRect" parent="Camera2D"]
material = SubResource("ShaderMaterial_iywne")
offset_left = -640.0
offset_top = -360.0
offset_right = 640.0
offset_bottom = 360.0

[node name="Background" parent="." instance=ExtResource("4_lbhrr")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_lbhrr")
